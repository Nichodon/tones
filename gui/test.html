<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>GUI Sandbox</title>
        <style>
            @import url('https://fonts.googleapis.com/css?family=Abel');
            svg {
                width: 75%;
            }
            text {
                font-family: "Abel";
                font-size: 15px;
                pointer-events: none;
            }
            text::selection {
                background: none;
            }
            .title {
                font-size: 30px;
            }
            
            .thing:hover {
                opacity: 0;
                transition: 0.1s;
            }
        </style>
        
        <script src="../build/tones.js"></script>
    </head>

    <body>
        <svg viewBox="0 0 750 500" xmlns="http://www.w3.org/2000/svg" id="svg" draggable="true" ondragstart="stop(event)">
            <g>
                <rect x="0" y="49" width="750" height="1" fill="#ccc"></rect>
                <rect x="0" y="0" width="750" height="500" fill-opacity="0" stroke="#333" stroke-width="2"></rect>
                <text x="10" y="40" fill="#000" class="title">TONES</text>
            </g>
        </svg>
        
        <script src="knob.js"></script>
        
        <script>
            
            function addOsc(l, x, y, n) {
                l.osc = new Group(10 + x, 60 + y, 210 + x, 260 + y, 'Osc ' + n, svg);
                
                l.uni = {};
                l.det = {};
                l.ble = {};
                l.pan = {};
                l.lev = {};

                l.uni.k = new Knob(60 + x, 115 + y, 25, 0.6, '#096', svg);
                l.uni.t = new Text(80 + x, 120 + y, 'start', 'Vcs', '#333', svg);
                l.uni.i = new Text(40 + x, 120 + y, 'end', '10', '#096', svg);

                l.det.k = new Knob(60 + x, 165 + y, 25, 0.3, '#096', svg);
                l.det.t = new Text(80 + x, 170 + y, 'start', 'Det', '#333', svg);
                l.det.i = new Text(40 + x, 170 + y, 'end', '60', '#096', svg);

                l.ble.k = new Knob(60 + x, 215 + y, 25, 0.3, '#096', svg);
                l.ble.t = new Text(80 + x, 220 + y, 'start', 'Bld', '#333', svg);
                l.ble.i = new Text(40 + x, 220 + y, 'end', '30', '#096', svg);

                l.pan.k = new Knob(160 + x, 115 + y, 25, 0.6, '#c90', svg);
                l.pan.t = new Text(140 + x, 120 + y, 'end', 'Pan', '#333', svg);
                l.pan.i = new Text(180 + x, 120 + y, 'start', '10', '#c90', svg);

                l.lev.k = new Knob(160 + x, 165 + y, 25, 0.6, '#c90', svg);
                l.lev.t = new Text(140 + x, 170 + y, 'end', 'Lev', '#333', svg);
                l.lev.i = new Text(180 + x, 170 + y, 'start', '10', '#c90', svg);
            }
            
            const svg = document.getElementById('svg');
            
            let els1 = {};
            let els2 = {};
            let els3 = {};
            
            addOsc(els1, 0, 0, 1);
            addOsc(els2, 0, 200, 2);
            
            //adsr
            
            let adsr = new Group(210, 260, 410, 460, 'Envelope', svg);
            
            let atts = new Slider(250, 365, 100, 0.1, '#069', svg);
            let attt = new Text(250, 440, 'middle', 'A', '#333', svg);
            let atti = new Text(250, 305, 'middle', '9', '#333', svg);
            
            let decs = new Slider(290, 365, 100, 0.8, '#069', svg);
            let dect = new Text(290, 440, 'middle', 'D', '#333', svg);
            let deci = new Text(290, 305, 'middle', '165', '#333', svg);
            
            let suss = new Slider(330, 365, 100, 0.6, '#069', svg);
            let sust = new Text(330, 440, 'middle', 'S', '#333', svg);
            let susi = new Text(330, 305, 'middle', '60', '#333', svg);
            
            let rels = new Slider(370, 365, 100, 0.2, '#069', svg);
            let relt = new Text(370, 440, 'middle', 'R', '#333', svg);
            let reli = new Text(370, 305, 'middle', '27', '#333', svg);
            
            //ehh
            
            let wavr = new Radio();
            
            let wavb1 = new Button(570, 200, 20, false, '#903', svg);
            let wavb2 = new Button(570, 250, 20, false, '#903', svg);
            let wavb3 = new Button(570, 300, 20, true, '#903', svg);
            let wavb4 = new Button(570, 350, 20, false, '#903', svg);
            
            let wavt1 = new Text(590, 205, 'left', 'SINE', '#333', svg);
            let wavt2 = new Text(590, 255, 'left', 'SQUARE', '#333', svg);
            let wavt3 = new Text(590, 305, 'left', 'SAW', '#333', svg);
            let wavt4 = new Text(590, 355, 'left', 'TRIANGLE', '#333', svg);
            
            wavr.add(wavb1);
            wavr.add(wavb2);
            wavr.add(wavb3);
            wavr.add(wavb4);
            
            let sclo = new Open(20, 480, 20, '#903', svg);
            let sclt = new Text(40, 485, 'left', 'LOAD .SCL', '#333', svg);
            
            let resk = new Knob(650, 100, 50, 0.6, '#c90', svg);
            let rest = new Text(650, 150, 'middle', 'FREQ', '#333', svg);
            let resi = new Text(650, 105, 'middle', '3.1', '#c90', svg);
            
            //stuff
            
            
            let t = new Graph(700, 300, [400, 200], [], '#333', svg);
            
        </script>
        
        <script src="inst.js"></script>
    </body>
</html>
